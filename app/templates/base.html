<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% set meta_description = meta_description | default('RG4LBarber: reserva tus citas de barbería, gestiona servicios, pagos y estilos con una experiencia rápida y sencilla.') %}
    {% set meta_keywords = meta_keywords | default('barbería en Santander, barbería Vélez, RG4L Barber, cortes de cabello, afeitado profesional, barbería Colombia') %}
    {% set canonical_url = canonical_url | default(request.url) %}
    {% set meta_image = meta_image | default(url_for('static', filename='img/logo2.png', _external=True)) %}
    {% set default_title = 'RG4LBarber' %}

    <title>{% block title %}RG4LBarber{% endblock %}</title>
    {% set computed_title = self.title() | trim if self.title is defined else default_title %}
    {% set meta_title = meta_title | default(computed_title if computed_title else default_title) %}
    <meta name="description" content="{{ meta_description }}">
    <meta name="keywords" content="{{ meta_keywords }}">
    <meta name="robots" content="{{ meta_robots | default('index, follow') }}">
    <link rel="canonical" href="{{ canonical_url }}">

    <meta property="og:locale" content="es_CO">
    <meta property="og:type" content="{{ og_type | default('website') }}">
    <meta property="og:site_name" content="{{ og_site_name | default('RG4LBarber') }}">
    <meta property="og:title" content="{{ meta_title }}">
    <meta property="og:description" content="{{ meta_description }}">
    <meta property="og:url" content="{{ og_url | default(canonical_url) }}">
    {% if meta_image %}<meta property="og:image" content="{{ meta_image }}">{% endif %}

    <meta name="twitter:card" content="{{ twitter_card | default(meta_image and 'summary_large_image' or 'summary') }}">
    <meta name="twitter:title" content="{{ meta_title }}">
    <meta name="twitter:description" content="{{ meta_description }}">
    {% if meta_image %}<meta name="twitter:image" content="{{ meta_image }}">{% endif %}

    {% if structured_data is defined %}
        {% if structured_data is string %}
            <script type="application/ld+json">{{ structured_data | safe }}</script>
        {% else %}
            <script type="application/ld+json">{{ structured_data | tojson }}</script>
        {% endif %}
    {% else %}
        {% set default_structured_data = {
            '@context': 'https://schema.org',
            '@type': 'Barbershop',
            'name': 'RG4LBarber',
            'image': meta_image,
            'url': canonical_url,
            'telephone': '+57 313 851 2244',
            'priceRange': '$$',
            'address': {
                '@type': 'PostalAddress',
                'streetAddress': 'Carrera 10 #1-41, Barrio Centro',
                'addressLocality': 'Vélez',
                'addressRegion': 'Santander',
                'postalCode': '685567',
                'addressCountry': 'CO'
            },
            'openingHoursSpecification': [{
                '@type': 'OpeningHoursSpecification',
                'dayOfWeek': ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
                'opens': '09:00',
                'closes': '20:00'
            }],
            'sameAs': [
                'https://www.instagram.com/rg4l_barber_.19?igsh=YzljYTk1ODg3Zg==',
                'https://www.facebook.com'
            ]
        } %}
        <script type="application/ld+json">{{ default_structured_data | tojson }}</script>
    {% endif %}

    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/logo2.png') }}">

    <!-- Tailwind CDN solo aquí -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/reservar.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/scroll-anim.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">

    {% block head %}{% endblock %}
</head>
<!-- base.html -->
<body data-usuario-logueado="{{ usuario_autenticado | default('false') }}" class="bg-gray-100 text-gray-800">

    {% include 'components/navbar.html' %}

    <main class="mx-auto">
        {% block content %}{% endblock %}
    </main>

    {% include 'components/footer.html' %}

    <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/scroll-anim.js') }}"></script>

</body>
</html>
